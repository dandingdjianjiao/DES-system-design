# ============================================
# LargeRAG 生产环境配置文件
# ============================================
# 此文件用于 Docker 容器部署
# 本地开发请使用 src/tools/largerag/config/settings.yaml
# ============================================

# ============ Embedding 配置 ============
embedding:
  provider: "dashscope"
  model: "text-embedding-v4"
  text_type: "document"
  batch_size: 10
  dimension: 2048

# ============ 向量存储配置 ============
vector_store:
  type: "chroma"
  # Docker 容器内路径（映射到 src/tools/largerag/data/）
  persist_directory: "/app/src/tools/largerag/data/chroma_db_prod"
  collection_name: "des_literature_production"
  distance_metric: "cosine"

# ============ 文档处理配置 ============
document_processing:
  splitter_type: "token"
  chunk_size: 512
  chunk_overlap: 50
  separator: "\n\n"
  aggregate_small_chunks: false
  semantic_breakpoint_threshold: 0.5
  semantic_buffer_size: 1

# ============ 检索配置 ============
retrieval:
  similarity_top_k: 30
  rerank_top_n: 15
  similarity_threshold: 0.5
  rerank_threshold: 0.0

# ============ Reranker 配置 ============
reranker:
  provider: "dashscope"
  model: "qwen3-rerank"
  enabled: true

# ============ LLM 配置 ============
llm:
  provider: "dashscope"
  model: "qwen-plus"
  temperature: 0.1
  max_tokens: 3000

# ============ 缓存配置 ============
cache:
  enabled: true
  type: "local"
  # Docker 容器内路径
  local_cache_dir: "/app/src/tools/largerag/data/prod_cache/"
  redis_host: "localhost"
  redis_port: 6379
  collection_name: "des_prod_docker"
  ttl: 86400

# ============ 日志配置 ============
logging:
  level: "INFO"
  # Docker 容器内路径
  file_path: "/app/logs/largerag.log"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
